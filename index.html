<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>MyTube</title>
  <style>
    body { margin:0; font-family:Arial, sans-serif; background:#f9f9f9; }
    header { background:#fff; display:flex; align-items:center; padding:8px 16px;
             border-bottom:1px solid #ddd; position:sticky; top:0; z-index:10; }
    header .logo { color:#ff0000; font-weight:bold; font-size:22px; margin-left:20px; }
    header input { flex:1; max-width:500px; padding:6px 10px; border:1px solid #ccc; border-radius:2px; }

    .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:16px; padding:20px; }
    .card { background:#fff; border-radius:6px; overflow:hidden; box-shadow:0 1px 4px rgba(0,0,0,0.1); cursor:pointer; transition:.2s; }
    .card:hover { transform:translateY(-3px); }
    .thumb { width:100%; height:160px; object-fit:cover; background:#000; }
    .info { padding:10px; }
    .info h3 { font-size:16px; margin:0 0 6px; color:#111; }
    .info p { font-size:13px; color:#555; margin:0; max-height:38px; overflow:hidden; }
  </style>
</head>
<body>
  <header>
    <div class="logo">▶ MyTube</div>
    <input type="text" id="searchBox" placeholder="ابحث">
  </header>

  <div class="grid" id="videoGrid"></div>

<script>
let videos = [], filtered = [];

// تحميل الفيديوهات من ملف JSON
fetch('videos.json')
  .then(res => res.json())
  .then(data => {
    videos = data.items || [];
    filtered = videos;
    renderGrid();
  });

function renderGrid(){
  const grid = document.getElementById('videoGrid');
  grid.innerHTML = '';
  filtered.forEach(v=>{
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <img class="thumb" src="${v.thumbnailUrl}" alt="">
      <div class="info">
        <h3>${v.title}</h3>
        <p>${v.description}</p>
      </div>
    `;
    card.onclick = ()=>{ window.location.href = "watch.html?id="+v.id; };
    grid.appendChild(card);
  });
}

// البحث
document.getElementById('searchBox').addEventListener('input', e=>{
  const q = e.target.value.toLowerCase();
  filtered = videos.filter(v => v.title.toLowerCase().includes(q) || (v.description||'').toLowerCase().includes(q));
  renderGrid();
});
</script>
</body>
</html>
